{{$url := .Get "url"}}
{{$title := .Get "title"}}
{{$subtitle := .Get "subtitle" | default "undefined"}}
{{$span := .Get "span"}}
{{$bytes := float (os.Stat $url).Size }}
{{$k := 1024}}
{{$dm := 2}}
{{$sizes := slice "Bytes" "KB" "MB" "GB" "TB" "PB" "EB" "ZB" "YB"}}
{{$i := math.Floor (div (math.Log $bytes) (math.Log $k))}}
{{$fileSize := div $bytes (math.Pow $k $i)}}
{{$sizeType := index $sizes (int $i)}}


<div class="span-{{$span}}">
    <a class="download" href="{{if eq (strings.Contains $url "/static") true}}{{replace $url "/static/" "/"}}{{else}}{{$url}}{{end}}" target="_blank" rel="no-follow no-referrer">
        <div class="download-icon">
            <i class="fa-regular fa-circle-down"></i>
        </div>
        <div class="download-details">
            <div><b>{{$title}}</b></div>
            {{if ne $subtitle "undefined"}}
                <div>{{$subtitle}}</div>
            {{else}}
                {{if eq (strings.Contains $url "/static") true}}
                    <div>{{$fileSize | lang.FormatNumber 2}} {{$sizeType}}</div>
                {{end}}
            {{end}}
        </div>
    </a>
</div>
